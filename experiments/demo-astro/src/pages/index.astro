---
import Layout from "../layouts/main.astro";
import Graph from "../components/Graph.astro";
import { getCollection } from "astro:content";
import { getGraph } from "../lib/graph";

const notes = await getCollection("notes");
const graph = await getGraph();
---

<Graph graph={graph} />

<Layout content={{ title: "List of notes" }}>
  <ul>
    {
      notes.map((note) => (
        <li>
          <a href={`/notes/${note.slug}`}>{note.data.title}</a>
        </li>
      ))
    }
  </ul>
</Layout>
